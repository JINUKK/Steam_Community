{% extends 'base.html' %}
{% block title %}
Steam IC.
{% endblock %}

{% block content %}
<style>
    .special_new_name{
        background-color:#171a21;
        padding:5px;
        margin-right:100px;
        margin-left:100px;
        margin-bottom:10px;
        font-weight: bold;
        border-radius: 50px / 50px;
        color:#ffffff;
        font-size: 1em;
        text-align:center;
    }
    .special_top_name{
        background-color:#171a21;
        padding:5px;
        margin-right:100px;
        margin-left:100px;
        margin-bottom:10px;
        font-weight: bold;
        border-radius: 50px / 50px;
        color:#ffffff;
        font-size: 1em;
        text-align:center;
    }

    .carousel .carousel-item-next:not(.carousel-item-left),
    .carousel .carousel-item-right.active {
        -webkit-transform: translate3d(33%, 0, 0);
        transform: translate3d(33%, 0, 0);
    }
    .carousel .carousel-item-prev:not(.carousel-item-right),
    .carousel .carousel-item-left.active {
        -webkit-transform: translate3d(-33%, 0, 0);
        transform: translate3d(-33%, 0, 0);
    }
    .wishlist_text{
        position: absolute;
        top: 10%;
        left: 0.2%;
        background-color: #171a21;
        color: #ffffff; width: 21%;
        font-weight: bold;
        font-size: 0.9em;
        padding: 5px;
        border-radius: 5px / 5px;
    }
</style>
<div id="mainCarousel" class="carousel slide" data-ride="carousel">
  <div class="carousel-inner">
      {% for object in upcoming %}
          <div class="carousel-item {% if forloop.first %}active{% endif %}">
              <span class="col-m-4" style="">
                  <a href="{{object.link}}">
                      <img class="d-block img-fluid" style="display: inline!important; padding: 1px; border: 1px solid rgb(221, 221, 221);" src="{{object.img}}" width="367px" height="173px" alt="First slide">
                  </a>
              </span>
          </div>
      {% endfor %}
  </div>
    <a class="prev carousel-control-prev" href="#mainCarousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="next carousel-control-next" href="#mainCarousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
    <div class="wishlist_text">
        &nbsp;<i class="fas fa-bars"></i>&nbsp;&nbsp;인기 찜 목록&nbsp;&nbsp;TOP WISHLISTS
    </div>
</div>
<br>
<div class="row">
    <div class="col">
        <div class="card border-bg mb-3" style="background-color: #171a21;">
        <div class="card-header text-white" style="background-color: #171a21;">
            <div class="row">
                <div class="col-sm">특별 할인 SPECIAL DISCOUNT</div>
                <div class="col-sm" style="font-weight: bold; font-size: 0.80em; text-align:right">STREAM TREND</div>
            </div>
        </div>
        <ul class="list-group list-group-flush">
            <li class="list-group-item">
                <div class="row">
                    <div class="col">
                        <div class="special_new_name">인기 신제품</div>
                        {% for object in special_new %}
                        {% include 'main/part_new_list.html' %}
                        {% endfor %}
                    </div>
                    <div class="col">
                        <div class="special_top_name">최고 인기 제품</div>
                        {% for object in special_top %}
                        {% include 'main/part_new_list.html' %}
                        {% endfor %}
                    </div>
                </div>
            </li>
        </ul>
        </div>
    </div>
</div>
<div class="row">
    <div class="col">
        <div class="card border-bg mb-3" style="max-width: 34rem; background-color: #171a21;">
        <div class="card-header text-white" style="background-color: #171a21;">
            <div class="row">
                <div class="col-sm">인기 신제품 NEW RELEASES</div>
                <div class="col-sm" style="font-weight: bold; font-size: 0.80em; text-align:right">STREAM TREND</div>
            </div>
        </div>
        <ul class="list-group list-group-flush">
            <li class="list-group-item">
                {% for object in new_releases %}
                {% include 'main/part_new_list.html' %}
                {% endfor %}
            </li>
        </ul>
        </div>
    </div>
    <div class="col">
        <div class="card border-bg mb-3" style="max-width: 34rem; background-color: #171a21;">
        <div class="card-header text-white" style="background-color: #171a21;">
            <div class="row">
                <div class="col-sm">최고 인기 제품 TOP SELLERS</div>
                <div class="col-sm" style="font-weight: bold; font-size: 0.80em; text-align:right">STREAM TREND</div>
            </div>
        </div>
        <ul class="list-group list-group-flush">
            <li class="list-group-item">
                {% for object in top_sellers %}
                {% include 'main/part_top_list.html' %}
                {% endfor %}
            </li>
        </ul>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_script %}
<script type="text/javascript">
$(function(){
    $("#mainCarousel").carousel({interval: 5000});

    $('.carousel .carousel-item').each(function(){
        var next = $(this).next();
        if (!next.length) {
            next = $(this).siblings(':first');
        }
        next.children(':first-child').clone().appendTo($(this));

        if (next.next().length>0) {
            next.next().children(':first-child').clone().appendTo($(this));
        }
        else {
  	        $(this).siblings(':first').children(':first-child').clone().appendTo($(this));
        }
    });
});


</script>
{% endblock %}